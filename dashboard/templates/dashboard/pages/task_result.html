{% extends 'global/pages/base.html' %}

{% block title %}Tarefa de {{ task_type }} {{ task_id }} |{% endblock title %}

{% block content %}

    <div class="font-robo">
        <h1>Tarefa de {{ task_type }}: {{ task_id }}</h1>

        <div class="progress">
            <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar">&nbsp;</div>
        </div>

        <div id="progress-bar-status"></div>

        <div id="task-result"></div>
    </div>

{% endblock content %}

{% block scripts %}

    {% load static %}
    <script src="{% static 'celery_progress/celery_progress.js' %}"></script>
    <script src="{% static 'dashboard/scripts.js' %}"></script>

    <script>
        let progressURL = "{% url 'dashboard:task_progress' task_id %}"
        initializeProgressBar(progressURL)
    </script>

{% endblock scripts %}